# 12. ë°°ì—´ì— í•­ëª© ì¶”ê°€í•˜ê¸°

âœğŸ» [ë²¨ë¡œí¼íŠ¸ì”¨ì˜ ëª¨ë˜ ë¦¬ì•¡íŠ¸ ê°•ì¢Œ - 13í¸](https://react.vlpt.us/basic/13-array-insert.html) ì„ ì°¸ê³ í•˜ì—¬ ì‘ì„±í•©ë‹ˆë‹¤.

## 1ï¸âƒ£ ë°°ì—´ì— í•­ëª© ì¶”ê°€í•˜ëŠ” ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°

1. __[11. useRefë¡œ ì»´í¬ë„ŒíŠ¸ ì•ˆì— ë³€ìˆ˜ ë§Œë“¤ì–´ ê´€ë¦¬í•˜ê¸°](https://github.com/EndlessCreation/react_study/blob/main/Chohee/2020-12-14-11-useRef%EB%A1%9C-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EC%95%88%EC%97%90-%EB%B3%80%EC%88%98%EB%A7%8C%EB%93%A4%EC%96%B4-%EA%B4%80%EB%A6%AC%ED%95%98%EA%B8%B0.md) ì—ì„œ ë§Œë“  í”„ë¡œì íŠ¸ë¥¼ ì¤€ë¹„í•˜ì.__

    ì´ í”„ë¡œì íŠ¸ì— ì´ì–´ì„œ ë°°ì—´ í•­ëª© ì¶”ê°€í•˜ëŠ” ê¸°ëŠ¥ ë§Œë“¤ ì˜ˆì •

2. __CreateUser.js ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°__

    <img width="467" alt="12" src="https://user-images.githubusercontent.com/31889335/102783701-af6eb180-43de-11eb-93ab-a92ef6cf1f8c.png">

    ìœ„ ê·¸ë¦¼ì´ë‘ ë˜‘ê°™ì€ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ë©´ ë¨

    ~~~javascript
    // CreateUser.js
    function CreateUser({ username, nickname, onChange, onCreate }) {
        return(
            <div>
                <input name="username" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”~" onChange={onChange} value={username}/>
                <input name="nickname" placeholder="ë³„ëª…ì„ ì…ë ¥í•˜ì„¸ìš”~" onChange={onChange} value={nickname}/>
                <button onClick={onCreate}>ìƒˆë¡œìš´ ìŠ¤í„°ë””ì› ë“±ë¡! âœ…</button>
            </div>
        )
    }
    ~~~

    ì´ ì»´í¬ë„ŒíŠ¸ëŠ” ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° username, nickname, onChangeí•¨ìˆ˜, onCreateí•¨ìˆ˜ë¥¼ ì „ë‹¬ë°›ê²Œ ë” ì‘ì„±í•´ë³´ì.

    App.js ì— CreateUser.js ë°°ì¹˜í•˜ê¸°

    ~~~javascript
    // App.js
    return (
        <>
            <div>ë¦¬ì•¡íŠ¸ ìŠ¤í„°ë””ì›ë“¤ì´ ëˆ„êµ¬ëˆ„êµ¬ìˆê²¡ğŸ‘©ğŸ»â€ğŸ’»ğŸ‘¨ğŸ»â€ğŸ’»</div>
            <div>ë³„ëª…ë‘ ë§ì¶°ë°”~~!</div>

            {/* ìœ ì € ì¶”ê°€í•˜ê¸° ì»´í¬ë„ŒíŠ¸ ë°°ì¹˜ */}
            <CreateUser />
            <UserList users={users}/>
        </>
    );
    ~~~

3. __Input ìœ¼ë¡œ ì…ë ¥ë°›ì€ ë°ì´í„° ìƒíƒœ ê´€ë¦¬í•˜ê³ , ë“±ë¡ ë²„íŠ¼ í´ë¦­ì‹œ Input ê°’ ì´ˆê¸°í™”ì‹œí‚¤ê¸°__

    ~~~javascript
    function App() {
        // 1. ìœ ì € ì¶”ê°€í•  ë•Œ ì…ë ¥ë°›ì•„ì§ˆ ë°ì´í„° ìƒíƒœë¥¼ useStateë¡œ ê´€ë¦¬ ì½”ë“œ ì¶”ê°€
        const [newUserInputs, setNewUserInputs] = useState({
            username: '',
            nickname: ''
        });

        // 2. useStateë¡œ ê´€ë¦¬ë˜ëŠ” ë°ì´í„°ë¥¼ ê°ê° ë³€ìˆ˜í™” ì‹œí‚¤ê¸°
        const {username, nickname} = newUserInputs;

        // 3. Input ë°•ìŠ¤ì— ì…ë ¥ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ newUserInputs ì—…ë°ì´íŠ¸í•˜ê¸°
        const onChange = (e) => {
            const {name, value} = e.target; // Input íƒœê·¸ì˜ nameê³¼ valueë¥¼ ê°ê° ë³€ìˆ˜í™”ì‹œí‚¤ê¸°
            setNewUserInputs({
                ...newUserInputs,
                [name] : value
            })
        }

        // 4. ë“±ë¡ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ì‘ì„±í•˜ê¸°
        const onCreate = () => {
            // useStateë¡œ ê´€ë¦¬í•˜ë˜ ë°ì´í„° ë‹¤ì‹œ ì²˜ìŒìœ¼ë¡œ ì´ˆê¸°í™”í•˜ê¸°
            setNewUserInputs({
                username: '',
                nickname: ''
            })
        }

        ...

        return (
            <>
            <div>ë¦¬ì•¡íŠ¸ ìŠ¤í„°ë””ì›ë“¤ì´ ëˆ„êµ¬ëˆ„êµ¬ìˆê²¡ğŸ‘©ğŸ»â€ğŸ’»ğŸ‘¨ğŸ»â€ğŸ’»</div>
            <div>ë³„ëª…ë‘ ë§ì¶°ë°”~~!</div>

            {/* 5. ìì‹ ì»´í¬ë„ŒíŠ¸ì— props ì „ë‹¬í•˜ê¸° */}
            <CreateUser username={username} nickname={nickname} onChange={onChange} onCreate={onCreate}/>
            <UserList users={users}/>
            </>
        );
    }
    ~~~

    ![ArrayCreateRemoveModify01](https://user-images.githubusercontent.com/31889335/102786164-6caed880-43e2-11eb-9409-401c8e05b297.gif)

4. __ë“±ë¡ë²„íŠ¼ í´ë¦­ì‹œ ë°°ì—´ì— ìƒˆë¡œìš´ ì›ì†Œ ì¶”ê°€í•˜ê¸°__

    * User ëª©ë¡ì˜ ìƒíƒœë¥¼ useStateë¡œ ê´€ë¦¬í•˜ë„ë¡ ìˆ˜ì •í•´ì•¼ ìƒˆë¡œìš´ ì›ì†Œê°€ users ë°°ì—´ì— ì¶”ê°€ë˜ì—ˆì„ ë•Œ ë¦¬ë Œë”ë§ í•  ìˆ˜ ìˆìŒ

        ~~~javascript
        // App.js
        function App() {
            ...

            // 1. User ëª©ë¡ì˜ ìƒíƒœë¥¼ useStateë¡œ ê´€ë¦¬í•˜ë„ë¡ ìˆ˜ì •í•˜ê¸°
            const [users, setUsers] = useState([
                {
                    id: 1,
                    username: 'ê¹€ì´ˆí¬',
                    nickname: 'ì´ˆë°¥'
                },
                {
                    id: 2,
                    username: 'ê¹€ë¯¸ì„±',
                    nickname: 'í‚´ë§ˆì„±'
                },
                {
                    id: 3,
                    username: 'ê¹€ê±´í›ˆ',
                    nickname: 'ë…¸ë£¨ì°¸ì¹˜'
                },
                {
                    id: 4,
                    username: 'ì¡°ì¸í˜',
                    nickname: 'ì˜¤í•¨ë§ˆ'
                },
                {
                    id: 5,
                    username: 'ì‹ ì„±ì¼',
                    nickname: 'ë¡œë´‡'
                }
            ])

            ...

            return (
                ...
            )
        }
        ~~~
    
    * ë“±ë¡ë²„íŠ¼ ì´ë²¤íŠ¸ í•¨ìˆ˜ì¸ onCreate() í•¨ìˆ˜ ì¶”ê°€ ì‘ì„±í•˜ê¸°

        ~~~javascript
        // App.js
        const onCreate = () => {
            // 1. ìƒˆë¡œìš´ ìœ ì € ê°ì²´ ìƒì„±í•˜ê¸°
            const newUser = {
                id: nextId.current,
                username,
                nickname
            }
            // 2. usersì— setUsers()í˜¸ì¶œí•´ì„œ ì—…ë°ì´íŠ¸í•˜ê¸°
            setUsers([
                ...users, // ë°°ì—´ ë¶ˆë³€ì„± ì§€í‚¤ê¸°
                newUser
            ])

            setNewUserInputs({
                username: '',
                nickname: ''
            })
            // 3. useRefë¡œ ê´€ë¦¬í•˜ë˜ nextIdë¥¼ 1 ì¦ê°€ì‹œí‚¤ê¸°(ë‹¤ìŒ ìœ ì € ì¶”ê°€ ì‹œ ì‚¬ìš© ìœ„í•¨)
            nextId.current += 1
        }
        ~~~

        ![ArrayCreateRemoveModify02](https://user-images.githubusercontent.com/31889335/102787174-fdd27f00-43e3-11eb-8cf4-eee44922ceb3.gif)

        ì˜ ì¶”ê°€ê°€ ëœë‹¤!

        users ë°°ì—´ì„ ì—…ë°ì´íŠ¸ í•  ë•Œ __concat()__ ì„ ì‚¬ìš©í•˜ë©´ ì¢€ ë” ê°„ë‹¨í•¨. concat()ì€ ê¸°ì¡´ ë°°ì—´ì— ìƒˆë¡œìš´ ì›ì†Œê°€ ì¶”ê°€ëœ ë°°ì—´ì„ ë§Œë“œëŠ” í•¨ìˆ˜ì„

        ~~~javascript
        const onCreate = () => {
            const newUser = {
                id: nextId.current,
                username,
                nickname
            }
            // concat í•¨ìˆ˜ ì‚¬ìš©
            setUsers(users.concat(newUser))

            setNewUserInputs({
                username: '',
                nickname: ''
            })
            nextId.current += 1
        }
        ~~~

# ë!