# 20. ì»¤ìŠ¤í…€ Hook ë§Œë“¤ê¸°

âœğŸ» [ë²¨ë¡œí¼íŠ¸ì”¨ì˜ ëª¨ë˜ ë¦¬ì•¡íŠ¸ ê°•ì¢Œ - 21í¸](https://react.vlpt.us/basic/21-custom-hook.html) ì„ ì°¸ê³ í•˜ì—¬ ì‘ì„±í•©ë‹ˆë‹¤.

## 1ï¸âƒ£ ì»¤ìŠ¤í…€ hook ë§Œë“¤ì–´ë³´ê¸°

* ì»¤ìŠ¤í…€ hookì´ ë­”ì§€ëŠ” ë§Œë“¤ë©´ì„œ ì•Œì•„ë³´ì^^
* src í´ë”ì— hooks ë¼ëŠ” í´ë”ë¥¼ ë§Œë“¤ê³  ê·¸ ì•ˆì— useNewUserInput.js íŒŒì¼ ë§Œë“¤ê¸°
    * ì»¤ìŠ¤í…€ hookì€ ë³´í†µ use~~ë¡œ ì´ë¦„ ì§“ëŠ”ë‹¤.
* useNewUserInput.js íŒŒì¼ ì•ˆì—ì„œ useState, useEffect, useReducer, useCallback ë“± React Hooksë¥¼ ì‚¬ìš©í•˜ì—¬ ì›í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•´ì£¼ê³ , ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•˜ê³  ì‹¶ì€ ê°’ë“¤ì„ ë°°ì—´ì— ë„£ì–´ì„œ ë°˜í™˜í•´ì£¼ë©´ ë¨
    ~~~javascript
    // useNewUserInput.js
    import React, { useCallback, useState } from 'react';

    function useNewUser(initialForm) {
        // ì ì€ ì •ë³´ì´ë¯€ë¡œ useState ì‚¬ìš©í•´ì„œ ìƒíƒœ ê´€ë¦¬í•¨.
        const [form, setForm] = useState(initialForm);

        const onChange = useCallback((e) => {
            const {name, value} = e.target;
            setForm(form => ({...form, [name]: value}));
        },[]);
        const reset = useCallback(() => {
            setForm(initialForm);
        },[initialForm]);

        return [form, onChange, reset];
    }

    export default useNewUser;
    ~~~
* ì»¤ìŠ¤í…€ í›…ì¸ useNewUserInput ì‚¬ìš©í•˜ê¸°
    * reducer í•¨ìˆ˜ì˜ Change ê´€ë ¨ ì•¡ì…˜ ì‚­ì œí•˜ê³ , Create ê´€ë ¨ ì•¡ì…˜ì—ì„œ ì´ˆê¸°í™” ë¶€ë¶„ ì‚­ì œí•´ì¤€ë‹¤.(useNewUserInputì˜ resetì„ ì‚¬ìš©í• ê±°ë‹ˆê¹Œ!)
    * ê¸°ì¡´ì˜ 
        ~~~javascript
        // App.js
        const { username, nickname } = state.newUserInputs;
        ~~~
        
        ì—†ì• ê³  useNewUserInputì—ì„œ ê°’ì„ ì¶”ì¶œí•œë‹¤.
        ~~~javascript
        // App.js
        function App() {
            // 1. useNewUserInput ì—ì„œ ë°˜í™˜ê°’ ë°›ì•„ì˜¤ê¸°
            const [{ username, nickname }, onChange, reset] = useNewUserInput({
                username: '',
                nickname: ''
            });
        }
        ~~~

        ê¸°ì¡´ì˜ onChangeí•¨ìˆ˜ë„ ì œê±°í•œë‹¤.(useNewUserInputì—ì„œ ì •ì˜í•œ ê±¸ë¡œ ì‚¬ìš©í•  ê±°ë‹ˆê¹Œ!)

        ê·¸ë¦¬ê³  onCreate í•¨ìˆ˜ì— reset() í•¨ìˆ˜ë¥¼ ì¶”ê°€í•´ì£¼ê³ , ê¸°ì¡´ì˜ deps ë°°ì—´ì— reset ì¶”ê°€í•´ì¤€ë‹¤.
        ~~~javascript
        const onCreate = useCallback(() => {
            dispatch({
                type: 'CREATE_USER',
                user: {
                    id: nextId.current,
                    username,
                    nickname
                }
            });
            
            reset();
            nextId.current += 1;
        },
        [username, nickname, reset]);
        ~~~
* ì´ë ‡ê²Œ ì»¤ìŠ¤í…€ hookì„ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ì˜ ë¡œì§ì„ ë¶„ë¦¬ì‹œí‚¤ëŠ”ë° ë” ë„ì›€ì´ ëœë‹¤!

# ë!
